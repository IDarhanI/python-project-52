{% extends 'task_manager_app/base.html' %}
{% load i18n %}
{% load django_bootstrap5 %}

{% block content %}
<div class="container mt-5">
    <div class="card">
        <div class="card-header">
            <h2 class="mb-0">{{ task.name }}</h2>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h5>{% trans "Description" %}</h5>
                    <p>{{ task.description|linebreaksbr|default:"—" }}</p>
                </div>
                <div class="col-md-6">
                    <h5>{% trans "Details" %}</h5>
                    <ul class="list-unstyled">
                        <li><strong>{% trans "Status" %}:</strong> {{ task.status.name }}</li>
                        <li><strong>{% trans "Author" %}:</strong> {{ task.author.get_full_name|default:task.author.username }}</li>
                        <li><strong>{% trans "Executor" %}:</strong>
                            {% if task.executor %}
                                {{ task.executor.get_full_name|default:task.executor.username }}
                            {% else %}
                                —
                            {% endif %}
                        </li>
                        <li><strong>{% trans "Labels" %}:</strong>
                            {% if task.labels.all %}
                                {% for label in task.labels.all %}
                                    <span class="badge bg-secondary me-1">{{ label.name }}</span>
                                {% endfor %}
                            {% else %}
                                —
                            {% endif %}
                        </li>
                        <li><strong>{% trans "Created at" %}:</strong> {{ task.created_at|date:"d.m.Y H:i" }}</li>
                        <li><strong>{% trans "Updated at" %}:</strong> {{ task.updated_at|date:"d.m.Y H:i" }}</li>
                    </ul>
                </div>
            </div>

            <div class="mt-4">
                <a href="{% url 'task_update' task.id %}" class="btn btn-primary">{% trans "Edit" %}</a>
                <a href="{% url 'task_delete' task.id %}" class="btn btn-danger">{% trans "Delete" %}</a>
                <a href="{% url 'tasks_list' %}" class="btn btn-secondary">{% trans "Back to list" %}</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}